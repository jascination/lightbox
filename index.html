<head>


<link rel="stylesheet" href="css/bootstrap.css" type="text/css"/>
<link rel="stylesheet" href="css/bootstrap-responsive.css" type="text/css"/>
<link rel="stylesheet" href="css/style.css" type="text/css"/>
<style>
.lightBox{
	width: 100%;
	height: 800px;
	background-color: rgba(0, 0, 0, .1);
	position: fixed;
	top: 0;
	left:0;
}

.modal > div:not(.lightBox), .modal > img{
	position: fixed;
	top: 10%;
	left: 40%;
	z-index: 1050;
	max-width: 80%;

}

.hidden{
	display:none;
}

.modal {
	position:absolute;
}

#testDiv{
	width:50%;
	background:white;
}

.modal img{width:100%;}

</style>
</head>
<body>

<div class="span4">
	<button class="btn btn-primary" id="THIS">Live Demo</button>
	<div class="hidden modal" id="THIS-modal">
		<img src="img/1.jpg" alt="image" />
	</div>
	<button class="btn btn-secondary" id="THIS2">View on Github</button>
	<div class="hidden modal" id="THIS2-modal">
		<div id="testDiv">
			<h1>Hello! This is a lightbox!</h1>
			<p>If you're reading this, it means that I am dead, and my computer killed me. If you're accessing this from my computer, walk away slowly. It knows how to do...<em>things</em>. Deadly things. You have been warned.</p> 
			<img src="img/1.jpg" alt="image" />
		</div>
	</div>
</div>

<script>

	function createElem(btn){
		var btnId = btn.id;
		var modal = document.getElementById(btnId+"-modal");
		modal.classList.remove("hidden");
		
		var lightBox = document.createElement("div");
			lightBox.className = "lightBox";
		modal.insertBefore(lightBox, modal.firstChild);
		var modalChildren = modal.childNodes;
			
			for (var x = 0; x<modalChildren.length; x++){
				if (!(modalChildren[x].className === "lightBox") && (modalChildren[x].style)){
					var childWidth = modalChildren[x].offsetWidth;
					var windowWidth = document.body.offsetWidth;
					var halfWidth = (windowWidth - childWidth) /2;
					modalChildren[x].style.left = halfWidth + "px";
					console.log(childWidth + " " + windowWidth+ " " + halfWidth);
				}
			}
		
		lightBox.onclick = function(){
			modal.removeChild(lightBox);
			modal.className = "hidden modal";
		}
	}
	var button = document.getElementsByClassName("btn");
		for (var i = 0; i<button.length; i++){
			button[i].onclick = function(){
				createElem(this);
			}
		}


</script>
</body>